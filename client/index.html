<!DOCTYPE html>
<html lang="en">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>RUN PARK</title>
        <link rel="stylesheet" href="./style.css">
        <script type="module" src="./index.js"></script>
        <link rel="manifest" href="./manifest.json">
    </head>

    <body>
        <header>
            <h1>RUN PARK</h1>
            <nav class="nav-container">
                <button class="nav-buttons" id="runners-results"> Runners</button>
                <button class ="nav-buttons"id="admin-view">Admin</button>
                <button class ="nav-buttons" id="volunteer-view">Volunteer</button>

                <section id="volunteer-nav" style="display: none">
                    <button class ="nav-buttons" id="timer">Timer</button>
                    <button class ="nav-buttons" id="positions">Submit Positions</button>
                </section>
            </nav>
        </header>

        <main class="main-container">

            <!-- Admin view -->
            <section class="section-container" id="admin-container">
                <h2>Race Data Overview</h2>
                <table id="race-data-table">
                    <thead>
                        <tr>
                            <th>Client</th>
                            <th>Type</th>
                            <th>Length</th>
                            <th>Time</th>
                        </tr>
                    </thead>
                    <tbody>
                            <!--blank table initially, gets filled when there is data-->
                    </tbody>
                </table>
            </section>

            <!-- Create Result -->
            <button id="create-results" style="display: none">Create</button>
            <section id="create-results-buttons" style="display: none">
                <button type="submit" id="submit-results">Create Results</button>
                <button id="cancel-create-results">Cancel</button>
            </section>

            <!-- Manage Times - Admin -->
            <section class="section-container" id="time-management-container" style="display:none">
                <h2>Manage Times</h2>
                <button id="modify-times">Edit Times</button>

                <ul class="position-times" id="times-management-list">
                    <!--Times and position are added here -->
                </ul>  

                <section class="modify-view" id="modify-times-container" style="display:none">
                    <button id="save-times" >Save Times</button> 
                    <button id="add-time" >Add Time</button>

                    <section class="popup" id="time-popup" style="display:none">

                        <label for="time-input">Time (hh:mm:ss:ms)</label>
                        <input type="text" id="time-input" placeholder="00:00:00:000">

                        <button type="submit" id="times-popup-done">Done</button>
                        <button id="times-popup-cancel">Cancel</button>
                    </section>
                </section>
            </section>

            <!-- Manage Runners - Admin -->
            <section class="section-container" id="runner-management-container" style="display:none">
                <h2>Manage Runners</h2>
                <button id="modify-runners">Modify</button>

                <ul class="position-times" id="runners-management-list">
                <!-- Runners will be added here -->
                </ul>  

                <section class="modify-view" id="modify-runner-container" style="display:none">
                    <button id="save-runners">Save Runners</button> 
                    <button id="add-runner">Add Runner</button>
                
                    <section class="popup" id="runner-popup" style="display:none">
                        <label for="edit-runner-position">Position:</label>
                        <input type="number" id="edit-runner-position">
                    
                        <label for="edit-runner-id">ID:</label>
                        <input type="number" id="edit-runner-id">
                        
                        <button id="runner-popup-done">Done</button>
                        <button id="runner-popup-cancel">Cancel</button>
                    </section>
                </section>
            </section>

            <!-- Stopwatch Timer - Volunteer -->
            <section class="section-container" id="timer-container">
                <section class="stopwatch">
                    <h2>Race Timer</h2>
                    <div id="stopwatch-display">00:00:00:000</div>
                    <section class="timer-buttons-container">
                        <button id="start">Start</button>
                        <button id="reset" style="display: none">Reset</button>
                        <button id="stop" style="display: none">Stop</button>
                        <button id="resume" style="display: none">Resume</button>
                        <button id="record-time" style="display: none">Record Time</button>
                    </section> 
                    <button type="submit" id="submit-times">Submit Times</button>

                </section>
                <button id="clear-times" >Clear Time</button>
                <section class="position-container">
                    <h3>Recorded Times</h3>
                    <ol class="position-times" id="times-list">
                    <!-- Times and positions are added here -->
                    </ol>
                </section>
            </section>

            <!-- Runners Positions Submission - Volunteer -->
            <section class="section-container" id="runners-container">
                <h2>Submit Runner's Positions</h2>

                <section class ="runners-input-container">
                    <label for="runner-position">Position:</label>
                    <input type="number" id="runner-position" name="runner-position" required>

                    <label for="runner-ID">ID Number:</label>
                    <input type="number" id="runner-ID" name="runner-ID" required>

                    <button type="button" id="record-runner">Add Runner</button>
                    <button type="submit" id="submit-runners"> Done </button>
                </section>
                
                <button id="clear-runners">Clear Runner</button>

                <section class="runners-container">
                    <h3>Recorded Submissions</h3>
                    <ul class="position-times" id="runners-list">
                    <!-- Runner's ID and Name -->
                    </ul>
                </section>
            </section>

            <!-- Overall Results -->
            <section class="section-container" id="result-container">
                <h2>Overall Result</h2>
                <table id="results-table">
                    <thead>
                        <tr>
                            <th>Position</th> 
                            <th>Name</th>
                            <th>Time</th>
                        </tr>
                    </thead>
                    <tbody>
                            <!--blank table initially-->
                    </tbody>
                </table>
            </section>

            <!-- Error Messages -->
            <section id="error-container">
                <p><span id="error-message"></span></p>
            </section> 
        </main>
    </body>
</html>
